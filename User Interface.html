<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Game</title>
</head>
<body>
    <label for="getName">Enter name name/nickname
    <input   type = "text" id = "getName">
    <button type="submit" onclick="getname()">Start</button>
    <p id = "error"></p>
</label>
<script>
    function getname() {
        var validname = document.getElementById("getName").value;
        fetch("https://codecyprus.org/th/api/list?include-active")
            .then(response => response.json()) //Parse JSON text to JavaScript object
            .then(jsonObject => {
                console.log(jsonObject); //TODO - Success, do something with the data.
                let list = document.getElementById("challenges");

                let array = jsonObject.treasureHunts;
                let uuid = array[0].uuid;

                fetch("https://codecyprus.org/th/api/start?player=" + validname + "&app=Sample-treasure-hunt&treasure-hunt-id=" + uuid + "")
                .then(response => response.json()) //Parse JSON text to JavaScript object
                .then(jsonObject => {
                    console.log(jsonObject); //TODO - Success, do something with the data.
                    let list = document.getElementById("error");

                    let array = jsonObject.errorMessages;
                    for (let i = 0; i < array.length; i++) {

                           list.innerHTML = array[0];


                    }

                });
            });
    }

</script>
</body>
</html>